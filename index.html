<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>PG適性検査計算</title>
<style>
  body { font-family: sans-serif; padding: 1em; background: #f4f4f4; }
  h1 { text-align: center; }
  label { display: block; margin-top: 0.5em; }
  select { width: 6em; padding: 0.3em; margin-left: 0.5em; font-size: 1em; }
  .set { background: #fff; padding: 1em; border-radius: 8px; margin-bottom: 1em; box-shadow: 0 2px 5px rgba(0,0,0,0.1);}
  .total { font-weight: bold; margin-top: 1em; font-size: 1.8em; text-align: center; }
  table.answers { width: 100%; margin: 1em auto; border-collapse: collapse; font-size: 0.95em; background: #fff; box-shadow: 0 2px 5px rgba(0,0,0,0.1); border-radius: 8px; overflow: hidden; table-layout: fixed; }
  table.answers th, table.answers td { border: 1px solid #ccc; padding: 6px 8px; text-align: center; word-break: break-word; }
  table.answers th { background: #eee; }
  table.answers td.header { background: #eee; font-weight: bold; font-size:0.3em; }
</style>
</head>
<body>

<h1>PG適性検査計算</h1>

<table class="answers">
  <tr>
    <th rowspan="4">第1部</th>
    <td class="header">1</td><td class="header">2</td><td class="header">3</td><td class="header">4</td><td class="header">5</td><td class="header">6</td><td class="header">7</td>
  </tr>
  <tr>
    <td>5</td><td>5</td><td>4</td><td>1</td><td>4</td><td>3</td><td>3</td>
  </tr>
  <tr>
    <td class="header">8</td><td class="header">9</td><td class="header">10</td><td class="header">11</td><td class="header">12</td><td class="header">13</td>
    <td class="header">14</td><td class="header">15</td><td class="header">16</td><td class="header">17</td><td class="header">18</td><td class="header">19</td><td class="header">20</td>
  </tr>
  <tr>
    <td>1</td><td>5</td><td>3</td><td>2</td><td>4</td><td>4</td><td>2</td><td>4</td><td>4</td><td>2</td><td>2</td><td>5</td><td>1</td>
  </tr>

  <tr>
    <th rowspan="4">第2部</th>
    <td class="header">1</td><td class="header">2</td><td class="header">3</td><td class="header">4</td><td class="header">5</td>
  </tr>
  <tr>
    <td>3</td><td>4</td><td>5</td><td>2</td><td>2</td>
  </tr>
  <tr>
    <td class="header">6</td><td class="header">7</td><td class="header">8</td><td class="header">9</td><td class="header">10</td>
    <td class="header">11</td><td class="header">12</td><td class="header">13</td><td class="header">14</td><td class="header">15</td>
  </tr>
  <tr>
    <td>1</td><td>3</td><td>5</td><td>3</td><td>1</td><td>4</td><td>3</td><td>4</td><td>1</td><td>1</td>
  </tr>
</table>

<div class="set">
  <h2>第1部</h2>
  <label>正答:
    <select id="c1" data-max="20"></select>
  </label>
  <label>誤答:
    <select id="w1" data-max="20"></select>
  </label>
  <div>第1部 合計: <span id="s1">0</span></div>
</div>

<div class="set">
  <h2>第2部</h2>
  <label>正答:
    <select id="c2" data-max="15"></select>
  </label>
  <label>誤答:
    <select id="w2" data-max="15"></select>
  </label>
  <div>第2部 合計: <span id="s2">0</span></div>
</div>

<div class="total">全体合計: <span id="sum">0</span></div>

<script>
function fillSelect(sel, max=30){
  sel.innerHTML = '';
  for (let i=0; i<=max; i++){
    const opt = document.createElement('option');
    opt.value = String(i);
    opt.textContent = String(i);
    sel.appendChild(opt);
  }
}

['c1','w1','c2','w2'].forEach(id=>{
  const el = document.getElementById(id);
  const max = Number(el.dataset.max ?? 30);
  fillSelect(el, max);
  el.addEventListener('change', calc);
});

function num(id){ return Number(document.getElementById(id).value || 0); }

function calc(){
  const s1 = num('c1') * 1 + num('w1') * -0.25;
  const s2 = num('c2') * 1 + num('w2') * -0.25;
  const total = s1 + s2;
  document.getElementById('s1').textContent = s1.toFixed(2);
  document.getElementById('s2').textContent = s2.toFixed(2);
  document.getElementById('sum').textContent = total.toFixed(2);
}

calc();
</script>

</body>
</html>
